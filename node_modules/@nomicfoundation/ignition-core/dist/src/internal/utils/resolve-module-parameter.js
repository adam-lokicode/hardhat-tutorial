"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveModuleParameter = void 0;
const assertions_1 = require("./assertions");
function resolveModuleParameter(moduleParamRuntimeValue, context) {
    if (context.deploymentParameters === undefined) {
        (0, assertions_1.assertIgnitionInvariant)(moduleParamRuntimeValue.defaultValue !== undefined, `No default value provided for module parameter ${moduleParamRuntimeValue.moduleId}/${moduleParamRuntimeValue.name}`);
        return moduleParamRuntimeValue.defaultValue;
    }
    const moduleParameters = context.deploymentParameters[moduleParamRuntimeValue.moduleId];
    if (moduleParameters === undefined) {
        (0, assertions_1.assertIgnitionInvariant)(moduleParamRuntimeValue.defaultValue !== undefined, `No default value provided for module parameter ${moduleParamRuntimeValue.moduleId}/${moduleParamRuntimeValue.name}`);
        return moduleParamRuntimeValue.defaultValue;
    }
    const moduleParamValue = moduleParameters[moduleParamRuntimeValue.name];
    if (moduleParamValue === undefined) {
        (0, assertions_1.assertIgnitionInvariant)(moduleParamRuntimeValue.defaultValue !== undefined, `No default value provided for module parameter ${moduleParamRuntimeValue.moduleId}/${moduleParamRuntimeValue.name}`);
        return moduleParamRuntimeValue.defaultValue;
    }
    return moduleParamValue;
}
exports.resolveModuleParameter = resolveModuleParameter;
//# sourceMappingURL=resolve-module-parameter.js.map